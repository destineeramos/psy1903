data_long_sleepr2 <- pivot_longer(Revised_Full_Detox_Sleep_, PreIhrs:Ihrs, names_to = "time", values_to = "score")
data_long_sleepr2$time <- factor(data_long_sleepr2$time,
levels = c("PreIhrs", "Ihrs"),
labels = c("Pre-Intervention", "Intervention"))
boxplot(score ~ time, data=data_long_sleepr2,
main= "Full Detox Total Sleep hrs",
xlab = "Hours",
ylab = "Intervention")
boxplot(score ~ time, data=data_long_sleepr2,
main= "Full Detox Total Sleep",
xlab = "Hours",
ylab = "Intervention")
boxplot(score ~ time, data=data_long_sleepr2,
main= "Full Detox Total Sleep",
xlab = "Hours",
ylab = "Time")
boxplot(score ~ time, data=data_long_sleepr2,
main= "Full Detox Total Sleep",
xlab = "Time",
ylab = "Hours")
#Stress Scores Full Detox
data_long_ssfull <- pivot_longer(Stress_Scores_R, Ss_PreI_Full:Ss_I_Full, names_to = "time", values_to = "score")
data_long_ssfull$time <- factor(data_long_ssfull$time,
levels = c("Ss_PreI_Full", "Ss_I_Full")
labels = c("Pre-Intervention", "Intervention"))
boxplot(score ~ time, data = data_long_ssfull,
main = "Full Detox Stress Scores",
xlab = "Intervention",
ylab = "Score")
boxplot(score ~ time, data = data_long_ssfull,
main = "Full Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
data_long_ssfull$time <- factor(data_long_ssfull$time,
levels = c("Ss_PreI_Full", "Ss_I_Full")
labels = c("Pre-Intervention", "Intervention"))
boxplot(score ~ time, data = data_long_ssfull,
main = "Full Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
data_long_ssfull$time <- factor(data_long_ssfull$time,
levels = c("Ss_PreI_Full", "Ss_I_Full"),
labels = c("Pre-Intervention", "Intervention"))
boxplot(score ~ time, data = data_long_ssfull,
main = "Full Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
data_long_sspartial$time <- factor(data_long_sspartial$time,
levels = c("Ss_PreI_P", "SS_I_P"),
labels = c("Pre-Intervention", "Intervention"))
boxplot(score ~ time, data = data_long_sspartial,
main = "Partial Detox Stress Scores",
xlab = "Intervention",
ylab = "Score")
boxplot(score ~ time, data = data_long_sspartial,
main = "Partial Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
ggsave("figure.png", dpi = 600, width = 5, height = 3.3, units = "in")
png("figure.png", width = 3000, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
plot(data_long_sspartial)
dev.off()
png("figure.png", width = 3000, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
boxplot(score ~ time, data = data_long_sspartial,
main = "Partial Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
dev.off()
getwd()
list.files()
#betterquality
png("figure.png", width = 3000, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
boxplot(score ~ time, data = data_long_ssfull,
main = "Full Detox Stress Scores",
xlab = "Time",
ylab = "Garmin Stress Score")
dev.off()
getwd()
list.files()
#betterquality
png("figure.png", width = 3000, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
boxplot(score ~ time, data=data_long_sleepr2,
main= "Full Detox Total Sleep",
xlab = "Time",
ylab = "Hours")
dev.off()
getwd()
list.files()
#betterquality
png("figure.png", width = 3000, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
boxplot(score ~ time, data = data_long_sleep_partial,
main = "Partial Detox Total Sleep",
xlab = "Time",
ylab = "Hours")
dev.off()
getwd()
list.files()
#betterquality
png("figure.png", width = 2500, height = 2000, res = 600)  # 5″×3.3″ at 600 dpi
boxplot(score ~ time, data = data_long_sleep_partial,
main = "Partial Detox Total Sleep",
xlab = "Time",
ylab = "Hours")
dev.off()
getwd()
list.files()
View(data_long_stressdurfull)
# Create full project folder structure under psy1903/web/
setwd("~/Desktop/psy1903") # Update to your path
dir.create("web/npt_project/data/raw", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/data/cleaned", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/scripts", recursive = TRUE, showWarnings = FALSE)
dir.create("web/npt_project/reports", recursive = TRUE, showWarnings = FALSE)
# Create placeholder R Script and Quarto Report files
file.create("web/npt_project/scripts/score_questionnaire.R")
file.create("web/npt_project/scripts/process_participant.R")
file.create("web/npt_project/reports/npt_import.qmd")
# Create the R Project file
file.create("web/npt_project/npt_project.RProj")
# === Setup ===
# Install required packages (if you don’t already have them)
install.packages("remotes")
install.packages("av")
# Install audio.whisper from GitHub
remotes::install_github("bnosac/audio.whisper", ref = "0.3.3")
setwd("../Users/destineeramos/Downloads")
setwd("/Users/destineeramos/Downloads")
file.edit("R_tutorial_part3_YW.qmd")
## install packages
if (!require("pacman")) {install.packages("pacman"); require("pacman")}
p_load("psych","rstudioapi", "ggplot2", "dplyr", "sjPlot")
#### Set the working directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
#### Read in the data
myData <- read.csv("ed_app.csv", header = TRUE)
#### Read in the data
myData <- read.csv("ed_app.csv", header = TRUE)
# compute summary statistics for the DV (e.g., post-training reading scores)
describe(myData$Post_Reading_score)
# HISTOGRAM of our DV
hist(myData$Post_Reading_score, main = "Distribution of Post-training reading scores", xlab = "Post-training reading score")
# adding in lines for means and sds
abline(v = mean(myData$Post_Reading_score), col = "Red", lwd = 3)
abline(v = mean(myData$Post_Reading_score) - sd(myData$Post_Reading_score), col = "Blue", lwd = 2, lty = 2)
abline(v = mean(myData$Post_Reading_score) + sd(myData$Post_Reading_score), col = "Blue", lwd = 2, lty = 2)
# adding in lines for means and sds
abline(v = mean(myData$Post_Reading_score), col = "Red", lwd = 3)
hist(myData$Post_Reading_score, main = "Distribution of Post-training reading scores", xlab = "Post-training reading score")
# adding in lines for means and sds
abline(v = mean(myData$Post_Reading_score), col = "Red", lwd = 3)
abline(v = mean(myData$Post_Reading_score) - sd(myData$Post_Reading_score), col = "Blue", lwd = 2, lty = 2)
abline(v = mean(myData$Post_Reading_score) + sd(myData$Post_Reading_score), col = "Blue", lwd = 2, lty = 2)
file.edit("R_tutorial_part1_YW (2).qmd")
setwd("/Users/destineeramos/Desktop/thesis_data")
d
setwd("/Users/destineeramos/Desktop/thesis_data")
thesis_data <- read.csv("thesis_data_1111.csv", header = TRUE)
setwd("/Users/destineeramos/Desktop/thesis_data")
thesis_data <- read.csv("thesis_data_1111.csv", header = TRUE)
## take a look at the entire dataset
View(thesis_data)
## We can also print out the top and bottom of our dataset on the console by using the head() function:
head(myData_raw)      ## shows you the first 5 lines of the dataset
## We can also print out the top and bottom of our dataset on the console by using the head() function:
head(thesis_data)      ## shows you the first 5 lines of the dataset
# Let's look more explicitly at the format of your variables:
str(thesis_data)       ## shows you the format of the variables: chr = characters, num = numbers, Factor = category with levels
# Check ranges: Are there impossible values (e.g., negative age)?
describe(thesis_data)
thesis_data <- thesis_data[-c(1, 2), ]
table(thesis_data$ASRS_7)
library(dplyr)
thesis_data_clean <- thesis_data %>%
filter(trimws(ASRS_7) == "Rarely")
View(thesis_data_clean)
table(thesis_data_clean$ASRS_7)
nrow(thesis_data_clean)
thesis_data_clean %>%
summarise(
n_responded = sum(!is.na(ADHD_Med_Today)),
n_missing = sum(is.na(ADHD_Med_Today))
)
colnames(thesis_data_clean)
thesis_data_clean %>%
summarise(
n_responded = sum(!is.na(ADHD_MedToday)),
n_missing = sum(is.na(ADHD_MedToday))
)
nrow(thesis_data_clean)
ASRS_ADHD_clean <- thesis_data_clean %>%
filter(
!if_any(starts_with("ASRS_"), is.na),   # no missing ASRS items
!is.na(ADHD_MedToday)                   # responded to ADHD_MedToday
)
nrow(ASRS_ADHD_clean)
names(ASRS_ADHD_clean)
nrow(ASRS_ADHD_clean)
nrow(thesis_data_clean)
names(ASRS_ADHD_clean)
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(
ASRS_total = rowMeans(select(., starts_with("ASRS_")), na.rm = TRUE),
BSMAS_total = rowMeans(select(., starts_with("BSMAS_")), na.rm = TRUE)
)
str(ASRS_ADHD_clean %>% select(starts_with("ASRS_")))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
starts_with("ASRS_"),
~ recode(.,
"Never" = 0,
"Rarely" = 1,
"Sometimes" = 2,
"Often" = 3,
"Very often" = 4,
.default = NA_real_
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
starts_with("BSMAS_"),
~ recode(.,
"Never" = 0,
"Rarely" = 1,
"Sometimes" = 2,
"Often" = 3,
"Very often" = 4,
.default = NA_real_
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
all_of(paste0("ASRS_", 1:6)),   # only 1–6
~ recode(.,
"Never" = 0,
"Rarely" = 1,
"Sometimes" = 2,
"Often" = 3,
"Very often" = 4,
.default = NA_real_
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
all_of(paste0("ASRS_", 1:6)),
~ case_when(
. %in% c("Never", "0") ~ 0,
. %in% c("Rarely", "1") ~ 1,
. %in% c("Sometimes", "2") ~ 2,
. %in% c("Often", "3") ~ 3,
. %in% c("Very often", "4") ~ 4,
TRUE ~ as.numeric(.)
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(
ASRS_total = rowMeans(select(., all_of(paste0("ASRS_", 1:6))), na.rm = TRUE)
)
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
starts_with("BSMAS_"),
~ recode(.,
"Never" = 0,
"Rarely" = 1,
"Sometimes" = 2,
"Often" = 3,
"Very often" = 4,
.default = NA_real_
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
starts_with("BSMAS_"),
~ case_when(
. %in% c("Never", "0") ~ 0,
. %in% c("Rarely", "1") ~ 1,
. %in% c("Sometimes", "2") ~ 2,
. %in% c("Often", "3") ~ 3,
. %in% c("Very often", "4") ~ 4,
TRUE ~ as.numeric(.)
)
))
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(
BSMAS_total = rowMeans(select(., starts_with("BSMAS_")), na.rm = TRUE)
)
sapply(ASRS_ADHD_clean %>% select(starts_with("BSMAS_")), class)
model <- lm(BSMAS_total ~ ASRS_total, data = ASRS_ADHD_clean)
)
summary(ASRS_ADHD_clean$ASRS_total)
summary(ASRS_ADHD_clean$BSMAS_total)
table(ASRS_ADHD_clean$ASRS_1, useNA = "ifany")
names(ASRS_ADHD_clean)
table(thesis_data$ASRS_1, useNA = "ifany")
ASRS_ADHD_clean_1 <- thesis_data %>%
# Keep only people who passed the attention check
filter(AttentionCheck == "Rarely") %>%
# Keep only people who answered both ASRS and ADHD_MedToday
filter(!is.na(ADHD_MedToday)) %>%
# Select only the relevant columns
select(ADHD_MedToday, starts_with("ASRS_"), starts_with("BSMAS_"))
ASRS_ADHD_clean_1 <- thesis_data %>%
# Keep only people who passed the attention check
filter(ASRS_7 == "Rarely") %>%
# Keep only people who answered both ASRS and ADHD_MedToday
filter(!is.na(ADHD_MedToday)) %>%
# Select only the relevant columns
select(ADHD_MedToday, starts_with("ASRS_"), starts_with("BSMAS_"))
table(ASRS_ADHD_clean$ASRS_1, useNA = "ifany")
grep("ASRS", names(thesis_data), value = TRUE)
ASRS_7table(thesis_data$ASRS_1, useNA = "ifany")
table(thesis_data$ASRS_1, useNA = "ifany")
grep("ASRS", names(thesis_data), value = TRUE)
table(thesis_data$ASRS_1, useNA = "ifany")
# 1️⃣ Create a clean dataset: keep only those who passed attention check + answered ADHD_MedToday
ASRS_ADHD_clean <- thesis_data %>%
filter(ASRS_7 == "Rarely") %>%                # passed attention check
filter(!is.na(ADHD_MedToday)) %>%             # responded to ADHD_MedToday
select(ADHD_MedToday, starts_with("ASRS_"), starts_with("BSMAS_"))
# 2️⃣ Recode ASRS and BSMAS items to numeric
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
c(starts_with("ASRS_"), starts_with("BSMAS_")),
~ case_when(
. == "Never" ~ 0,
. == "Rarely" ~ 1,
. == "Sometimes" ~ 2,
. == "Often" ~ 3,
. == "Very Often" ~ 4,
TRUE ~ NA_real_
)
))
# 3️⃣ Compute total (or mean) scores
# Exclude attention check (ASRS_7) from total score
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(
ASRS_total = rowMeans(select(., all_of(paste0("ASRS_", 1:6))), na.rm = TRUE),
BSMAS_total = rowMeans(select(., starts_with("BSMAS_")), na.rm = TRUE)
)
# 4️⃣ Check summaries to verify proper scoring
summary(ASRS_ADHD_clean$ASRS_total)
summary(ASRS_ADHD_clean$BSMAS_total)
# 5️⃣ Run your linear model
model <- lm(BSMAS_total ~ ASRS_total, data = ASRS_ADHD_clean)
summary(model)
library(ggplot2)
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_point(alpha = 0.6, color = "blue") +        # scatter points
geom_smooth(method = "lm", se = TRUE, color = "red") +  # regression line + CI
labs(
title = "Relationship Between ASRS and BSMAS Scores",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_point(alpha = 0.4, color = "blue") +        # scatter points
geom_smooth(method = "lm", se = TRUE, color = "red") +  # regression line + CI
labs(
title = "Relationship Between ASRS and BSMAS Scores",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_point(alpha = 0.4, color = "black") +        # scatter points
geom_smooth(method = "lm", se = TRUE, color = "red") +  # regression line + CI
labs(
title = "Relationship Between ASRS and BSMAS Scores",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_point(alpha = 0.2, color = "black") +        # scatter points
geom_smooth(method = "lm", se = TRUE, color = "red") +  # regression line + CI
labs(
title = "Relationship Between ASRS and BSMAS Scores",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_point(alpha = 0.3, color = "black") +        # scatter points
geom_smooth(method = "lm", se = TRUE, color = "red") +  # regression line + CI
labs(
title = "Relationship Between ASRS and BSMAS Scores",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 13)
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(ASRS_bin = cut(ASRS_total, breaks = 3, labels = c("Low", "Medium", "High")))
ggplot(ASRS_ADHD_clean, aes(x = ASRS_bin, y = BSMAS_total)) +
geom_boxplot(fill = "lightblue") +
geom_jitter(width = 0.2, alpha = 0.5, color = "darkblue") +
labs(
title = "BSMAS by ASRS Level",
x = "ASRS Level",
y = "BSMAS Total Score"
) +
theme_minimal(base_size = 14)
library(ggplot2)
library(ggpmisc)  # for regression equation + R²
# Fit the linear model separately to extract p-value
model <- lm(BSMAS_total ~ ASRS_total, data = ASRS_ADHD_clean)
p_val <- summary(model)$coefficients[2,4]  # p-value for ASRS_total
p_label <- ifelse(p_val < 0.001, "p < 0.001 ***", paste0("p = ", signif(p_val, 3)))
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_jitter(width = 0.1, height = 0.1, alpha = 0.6, color = "blue") +        # points
geom_smooth(method = "lm", se = TRUE, color = "red", size = 1.2) +            # regression line
stat_poly_eq(
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
formula = y ~ x, parse = TRUE, size = 5
) +
annotate("text", x = max(ASRS_ADHD_clean$ASRS_total, na.rm = TRUE),
y = max(ASRS_ADHD_clean$BSMAS_total, na.rm = TRUE),
label = p_label, hjust = 1, vjust = 1.5, size = 5) +                  # add p-value
labs(
title = "Relationship Between ASRS and BSMAS Scores",
subtitle = "Linear regression with R², equation, and p-value",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
install.packages("ggpmisc")
library(ggpmisc)
# Fit the linear model separately to extract p-value
model <- lm(BSMAS_total ~ ASRS_total, data = ASRS_ADHD_clean)
p_val <- summary(model)$coefficients[2,4]  # p-value for ASRS_total
p_label <- ifelse(p_val < 0.001, "p < 0.001 ***", paste0("p = ", signif(p_val, 3)))
ggplot(ASRS_ADHD_clean, aes(x = ASRS_total, y = BSMAS_total)) +
geom_jitter(width = 0.1, height = 0.1, alpha = 0.6, color = "blue") +        # points
geom_smooth(method = "lm", se = TRUE, color = "red", size = 1.2) +            # regression line
stat_poly_eq(
aes(label = paste(..eq.label.., ..rr.label.., sep = "~~~")),
formula = y ~ x, parse = TRUE, size = 5
) +
annotate("text", x = max(ASRS_ADHD_clean$ASRS_total, na.rm = TRUE),
y = max(ASRS_ADHD_clean$BSMAS_total, na.rm = TRUE),
label = p_label, hjust = 1, vjust = 1.5, size = 5) +                  # add p-value
labs(
title = "Relationship Between ASRS and BSMAS Scores",
subtitle = "Linear regression with R², equation, and p-value",
x = "ASRS Total Score (ADHD symptoms)",
y = "BSMAS Total Score (Social Media Addiction)"
) +
theme_minimal(base_size = 14)
figure1 <- ASRS_ADHD_clean %>%
ggplot(aes(x =  ASRS_total, y = BSMAS_total)) +
geom_hline(yintercept = 0, linetype = "dashed") +
geom_point(color = "black", fill = "darkgrey", size = 1, na.rm = T) +
geom_smooth(method = "lm", color = "darkgrey", fill = "darkgrey", size = 2, na.rm = T) +
labs(x = "ASRS_total", y = "BSMAS_total") +
my_theme
figure1 <- ASRS_ADHD_clean %>%
ggplot(aes(x =  ASRS_total, y = BSMAS_total)) +
geom_hline(yintercept = 0, linetype = "dashed") +
geom_point(color = "black", fill = "darkgrey", size = 1, na.rm = T) +
geom_smooth(method = "lm", color = "darkgrey", fill = "darkgrey", size = 2, na.rm = T) +
labs(x = "ASRS_total", y = "BSMAS_total")
figure1
# 2️⃣ Recode ASRS and BSMAS items to numeric
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
c(starts_with("BSMAS_")),
~ case_when(
. == "Very Rarely" ~ 0,
. == "Rarely" ~ 1,
. == "Sometimes" ~ 2,
. == "Often" ~ 3,
. == "Very Often" ~ 4,
TRUE ~ NA_real_
)
))
# 2️⃣ Recode ASRS and BSMAS items to numeric
mutate(across(
# 2️⃣ Recode ASRS and BSMAS items to numeric
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
# 2️⃣ Recode ASRS and BSMAS items to numeric
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(across(
c(starts_with("ASRS_")),
~ case_when(
. == "Never" ~ 0,
. == "Rarely" ~ 1,
. == "Sometimes" ~ 2,
. == "Often" ~ 3,
. == "Very Often" ~ 4,
TRUE ~ NA_real_
)
))
# 3️⃣ Compute total (or mean) scores
# Exclude attention check (ASRS_7) from total score
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
# 3️⃣ Compute total (or mean) scores
## Exclude attention check (ASRS_7) from total score
ASRS_ADHD_clean <- ASRS_ADHD_clean %>%
mutate(
ASRS_total = rowMeans(select(., all_of(paste0("ASRS_", 1:6))), na.rm = TRUE),
BSMAS_total = rowMeans(select(., starts_with("BSMAS_")), na.rm = TRUE)
)
# 4️⃣ Check summaries to verify proper scoring
summary(ASRS_ADHD_clean$ASRS_total)
summary(ASRS_ADHD_clean$BSMAS_total)
setwd("~/Desktop/psy1903") # Update to your path
setwd("~/Desktop/psy1903") # Update to your path
dir.create("web/w11_taskset", recursive = TRUE, showWarnings = FALSE)
dir.create("web/w11_taskset/data/raw/", recursive = TRUE, showWarnings = FALSE)
dir.create("web/w11_taskset/data/cleaned/", recursive = TRUE, showWarnings = FALSE)
dir.create("web/w11_taskset/scripts/", recursive = TRUE, showWarnings = FALSE)
dir.create("web/w11_taskset/reports/", recursive = TRUE, showWarnings = FALSE)
dir.create("web/w11_taskset/reports/", recursive = TRUE, showWarnings = FALSE)
