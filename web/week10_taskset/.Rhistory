getwd()
# Generate dataset reproducibly
set.seed(1903)
subject_id <- 1:40
rt <- round(rnorm(40, mean = 520, sd = 120))
rt[sample(1:40, 2)] <- NA
congruent <- sample(c(TRUE, FALSE), 40, replace = TRUE)
condition <- sample(c("control", "incongruent"), 40, replace = TRUE)
experiment_data <- data.frame(subject_id, rt, congruent, condition)
# Save for reuse in later tasks
saveRDS(experiment_data, file = "data/raw/experiment_data.rds")
# Save for reuse in later tasks
saveRDS(experiment_data, file = "../data/raw/experiment_data.rds")
# Generate dataset reproducibly
set.seed(1903)
subject_id <- 1:40
rt <- round(rnorm(40, mean = 520, sd = 120))
rt[sample(1:40, 2)] <- NA
congruent <- sample(c(TRUE, FALSE), 40, replace = TRUE)
condition <- sample(c("control", "incongruent"), 40, replace = TRUE)
experiment_data <- data.frame(subject_id, rt, congruent, condition)
# Save for reuse in later tasks
saveRDS(experiment_data, file = "../data/raw/experiment_data.rds")
rm(list = ls())
## Load the saved dataset
experiment_data <- readRDS("../data/raw/experiment_data.rds")
## Take a quick look at the first few rows
head(experiment_data)
## Check the structure of the dataset
str(experiment_data)
## Generate one or more random numbers between min and max (defaults: one number between 1â€“10)
getRandomNumber <- function(min = 1, max = 10, number = 1) {
sample(min:max, number)
}
View(experiment_data)
function_new <- function() {
experiment_data$rt_category_vector <- ifelse(
is.na(experiment_data$rt), "Unknown",              # If RT is missing
ifelse(experiment_data$rt < 500, "Fast", "Slow")   # Otherwise, check Fast vs Slow
)
}
function_new <- function(rt, threshold) {
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
return(category)
)
}
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
return(category)
)
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
return(category)
)
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
return(category),
)
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
)
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow"),
)
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow")
)
function_new <- function(rt, threshold = 500) {
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow")
)
return(category)
}
function_new <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow")
)
return(category)
}
function_test <- c(100,200,300,500)
function_new(function_test)
function_new()
function_new(experiment_data)
function_new(function_test)
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
function_new_1 <- function(rt, threshold1 = 500) {
if (!is.numeric(threshold1) || length(threshold1) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category1 <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold1, "Fast", "Slow")
)
return(category1)
}
function_test <- c(100,200,300,500)
function_new_1(function_test)
classify_rt(experiment_data$rt)
s
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow")
)
return(category)
}
classify_rt(experiment_data$rt)
function_new_1(experiment_data$rt)
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(experiment_data$rt), "Unknown",
ifelse(experiment_data$rt < threshold, "Fast", "Slow")
)
return(category)
}
classify_rt(experiment_data$rt)
function_new_1 <- function(rt, threshold1 = 500) {
if (!is.numeric(threshold1) || length(threshold1) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category1 <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold1, "Fast", "Slow")
)
return(category1)
}
function_new_1(experiment_data$rt)
function_test <- c(100,200,300,500)
function_new_1(function_test)
classify_rt(experiment_data$rt)
classify_rt(function_test)
classify_rt(function_test)
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold1, "Fast", "Slow")
)
return(category)
}
classify_rt(experiment_data$rt)
classify_rt(experiment_data$rt)
category <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold, "Fast", "Slow")
)
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold, "Fast", "Slow")
)
return(category)
}
classify_rt(experiment_data$rt)
function_test <- c(100,200,300,500)
classify_rt(function_test)
classify_rt <- function(rt, threshold = 500) {
if (!is.numeric(threshold) || length(threshold) != 1) {
stop("Error: 'threshold' must be a single numeric value.")
}
if (!is.numeric(rt)) {
stop("Error: 'rt' must be numeric.")
}
category <- ifelse(
is.na(rt), "Unknown",
ifelse(rt < threshold, "Fast", "Slow")
)
return(category)
}
##Testing the function
function_test <- c(100,200,300,500)
classify_rt(function_test)
classify_rt(experiment_data$rt)
experiment_data$age <- NA
View(experiment_data)
for (i in 1:nrow(experiment_data)) {
getRandomNumber(1:10)
}
for (i in 1:nrow(experiment_data)) {
getRandomNumber(18, 65, 1)
}
View(experiment_data)
for (i in 1:nrow(experiment_data)) {
experiment_data$age[i] <- getRandomNumber(18, 65, 1)
}
View(experiment_data)
head(experiment_data)
head(experiment_data)
experiment_data$age <- sample(age, 18, 65, replace = TRUE)
experiment_data$age <- NA
experiment_data$age <- sample(age, 18, 65, replace = TRUE)
experiment_data$age[i] <- getRandomNumber(18, 65, 1)
head(experiment_data)
experiment_data$age <- NA
for (i in 1:nrow(experiment_data)) {
experiment_data$age[i] <- getRandomNumber(18, 65, 1)
}
head(experiment_data)
experiment_data$age <- sample(18:65, nrow(experiment_data), replace = TRUE)
head(experiment_data)
head(experiment_data)
experiment_data$rt_category_loop <- NA
for(i in 1:nrow(experiment_data)) {
classify_rt(rt)
}
for(i in 1:nrow(experiment_data)) {
classify_rt(experiment_data$rt)
}
header(experiment_data)
head(experiment_data)
View(experiment_data)
for(i in 1:nrow(experiment_data)) {
experiment_data$age[i] <- classify_rt(experiment_data$rt)
}
for(i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop[i] <- classify_rt(experiment_data$rt)
}
head(experiment_data)
View(experiment_data)
##Q3.1 New Columns
experiment_data$age <- NA
##Q3.2 Loop Version
for (i in 1:nrow(experiment_data)) {
experiment_data$age[i] <- getRandomNumber(18, 65, 1)
}
head(experiment_data)
#Q3.3 Vectorized Version
experiment_data$age <- sample(18:65, nrow(experiment_data), replace = TRUE)
head(experiment_data)
experiment_data$rt_category_loop <- NA
for(i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop[i] <- classify_rt(experiment_data$rt)
}
experiment_data$rt_category_loop <- NA
for(i in 1:nrow(experiment_data)) {
experiment_data$rt_category_loop[i] <- classify_rt(experiment_data$rt[i])
}
head(experiment_data)
experiment_data$rt_category_vec <- NA
experiment_data$rt_category_vec <- classify_rt(rt[i], replace = TRUE)
experiment_data$rt_category_vec <- classify_rt(rt[i])
experiment_data$rt_category_vec <- classify_rt(rt[i])
experiment_data$rt_category_vec <- classify_rt(experiment_data$rt)
head(experiment_data)
table(loop = experiment_data$rt_category_loop,
vec  = experiment_data$rt_category_vec,
useNA = "ifany")
## Create Buggy Function
threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
debug_this <- flag_fast(experiment_data$rt)
flag_fast <- function(rt_vector) {
rt_vector <- threshold
}
rm(threshold)
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
## Create Buggy Function
threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
flag_fast(experiment_data$rt)
## Create Buggy Function
experiment_data$threshold <- 500
rm(threshold)
## Create Buggy Function
experiment_data$threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
new_try <- flag_fast(experiment_data$rt)
## Create Buggy Function
experiment_data$threshold <- 500
flag_fast <- function(rt_vector) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
new_try <- flag_fast(experiment_data$rt)
flag_fast <- function(rt_vector, threshold <- 500) {
flag_fast <- function(rt_vector, threshold = 500) {
rt_vector < threshold
}
flag_fast(experiment_data$rt)
rm(threshold)
new_try <- flag_fast(experiment_data$rt)
flag_fast(experiment_data$rt)
Mean for control: 511
Mean for incongruent: NA
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
# How many NAs overall?
sum(is.na(experiment_data$rt))
# How many NAs by condition?
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
# Optional: quick sanity checks
summary(experiment_data$rt)
with(experiment_data, table(condition, is.na(rt)))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
subject_means()
print(subject_means)
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
print(subject_means)
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
tapply(is.na(subject_means), sum)
_
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
summary(experiment_data$rt)
# How many NAs overall?
sum(is.na(experiment_data$rt))
# How many NAs by condition?
tapply(is.na(experiment_data$rt), experiment_data$condition, sum)
# Optional: quick sanity checks
summary(experiment_data$rt)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
summary(experiment_data$rt)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
print(subject_means)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
iat_data <- data.frame(
participant = 1:5,
affiliation = c("dem", "rep", "dem", "rep", "dem"),
rt = c(220, 350, 430, 440, 225)
)
View(iat_data)
mean(iat_data$condition)
summary(iat_data)
mean(iat_data$condition)
aggregate(rt ~ affiliation, data = iat_data, FUN = mean)
str(iat_data)
write.csv(experiment_data, "data/cleaned/experiment_data.csv", row.names = FALSE)
write.csv(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE)
saveRDS(experiment_data, "../data/cleaned/experiment_data.csv", row.names = FALSE)
saveRDS(experiment_data, "../data/cleaned/experiment_data.csv")
list.files("../data/cleaned")
saveRDS(experiment_data, "../data/cleaned/experiment_data.csv")
saveRDS(experiment_data, "../data/cleaned/experiment_data.rds")
list.files("../data/cleaned")
## Load Data
experiment_data <- read.csv("data/cleaned/experiment_data.csv")
## Load Data
experiment_data <- read.csv("../data/cleaned/experiment_data.csv")
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
print(subject_means)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean)
print(paste("Mean for control:", subject_means["control"]))
print(paste("Mean for incongruent:", subject_means["incongruent"]))
subject_means <- tapply(experiment_data$rt,
experiment_data$condition,
mean, na.rm = TRUE)
print(subject_means)
## Save multiple objects together
save(experiment_data, subject_means, file = "data/cleaned/objects.RData")
## Save multiple objects together
save(experiment_data, subject_means, file = "../data/cleaned/objects.RData")
## Clear the environment
rm(list = ls())
## Reload them later
load("..data/cleaned/objects.RData")
## Reload them later
load("../data/cleaned/objects.RData")
